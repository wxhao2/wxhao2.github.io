<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="wxhao">
  <!-- Open Graph Data -->
  <meta property="og:title" content="IO流2"/>
  <meta property="og:description" content="站点描述" />
  <meta property="og:site_name" content="标题"/>
  <meta property="og:type" content="article" />
  <meta property="og:image" content="http://blog.wxhaoo.comundefined"/>
  
    <link rel="alternate" href="/atom.xml" title="标题" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>标题</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/default-banner-dark.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">IO流2</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/levblanc">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:levblanc@163.com">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By wxhao</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2013-09-25</span>
            <span class="time">17:38:06</span>
          </span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/基础知识/">#基础知识</a> <a class="tag" href="/tags/java/">#java</a> <a class="tag" href="/tags/JAVASE/">#JAVASE</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <h3 id="字符流FileReader"><a href="#字符流FileReader" class="headerlink" title="字符流FileReader"></a>字符流FileReader</h3><ul>
<li>1.字符流是什么<ul>
<li>字符流是可以直接读写字符的IO流</li>
<li>字符流读取字符, 就要先读取到字节数据, 然后转为字符. 如果要写出字符, 需要把字符转为字节再写出.    </li>
</ul>
</li>
<li>2.FileReader<ul>
<li>FileReader类的read()方法可以按照字符大小读取</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">FileReader fr = new FileReader(&quot;aaa.txt&quot;);				//创建输入流对象,关联aaa.txt</div><div class="line">int ch;</div><div class="line">//通过项目默认的码表一次读取一个字符</div><div class="line">while((ch = fr.read()) != -1) &#123;	</div><div class="line">//将读到的字符赋值给ch</div><div class="line">	System.out.println((char)ch);						//将读到的字符强转后打印</div><div class="line">&#125;</div><div class="line">fr.close();			//关流</div></pre></td></tr></table></figure>
<h3 id="字符流FileWriter"><a href="#字符流FileWriter" class="headerlink" title="字符流FileWriter"></a>字符流FileWriter</h3><ul>
<li>FileWriter类的write()方法可以自动把字符转为字节写出</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">FileWriter fw = new FileWriter(&quot;aaa.txt&quot;);</div><div class="line">fw.write(&quot;嘿嘿嘿&quot;);</div><div class="line">fw.write(97);//a</div><div class="line">fw.close();</div></pre></td></tr></table></figure>
<h3 id="字符流的拷贝"><a href="#字符流的拷贝" class="headerlink" title="字符流的拷贝"></a>字符流的拷贝</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">FileReader fr = new FileReader(&quot;a.txt&quot;);</div><div class="line">FileWriter fw = new FileWriter(&quot;b.txt&quot;);</div><div class="line"></div><div class="line">int ch;</div><div class="line">while((ch = fr.read()) != -1) &#123;</div><div class="line">    fw.write(ch);</div><div class="line">&#125;</div><div class="line"></div><div class="line">fr.close();</div><div class="line">//Writer类中有一个2k的小缓冲区,如果不关流,就会将内容写到缓冲区里,关流会将缓冲区内容刷新,再关闭</div><div class="line">fw.close();</div></pre></td></tr></table></figure>
<h3 id="什么情况下使用字符流"><a href="#什么情况下使用字符流" class="headerlink" title="什么情况下使用字符流"></a>什么情况下使用字符流</h3><ul>
<li>字符流也可以拷贝文本文件, 但不推荐使用. 因为读取时会把字节转为字符, 写出时还要把字符转回字节.</li>
<li>程序需要读取一段文本, 或者需要写出一段文本的时候可以使用字符流</li>
<li>读取的时候是按照字符的大小读取的,不会出现半个中文</li>
<li><p>写出的时候可以直接将字符串写出,不用转换为字节数组</p>
</li>
<li><p>总结:只读或者只写的时候使用字符流</p>
</li>
</ul>
<p><img src="!--￼15--&gt;/post-in/20130925/zflhzjlngkbcwbgh.png" alt="字符流和字节流哪个拷贝纯文本更好"></p>
<h3 id="字符流是否可以拷贝非纯文本的文件"><a href="#字符流是否可以拷贝非纯文本的文件" class="headerlink" title="字符流是否可以拷贝非纯文本的文件"></a>字符流是否可以拷贝非纯文本的文件</h3><ul>
<li>不可以拷贝非纯文本的文件</li>
<li>因为在读的时候会将字节转换为字符,在转换过程中,可能找不到对应的字符,就会用?代替,写出的时候会将字符转换成字节写出去</li>
<li>如果是?,直接写出,这样写出之后的文件就乱了,看不了了  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//字符流不能拷贝纯文本的文件</div><div class="line">FileReader fr = new FileReader(&quot;艳照.jpg&quot;);</div><div class="line">FileWriter fw = new FileWriter(&quot;copy.jpg&quot;);</div><div class="line"></div><div class="line">int c;</div><div class="line">while((c = fr.read()) != -1) &#123;</div><div class="line">	fw.write(c);</div><div class="line">&#125;</div><div class="line"></div><div class="line">fr.close();</div><div class="line">fw.close();</div></pre></td></tr></table></figure>
<h3 id="自定义字符数组的拷贝"><a href="#自定义字符数组的拷贝" class="headerlink" title="自定义字符数组的拷贝"></a>自定义字符数组的拷贝</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">FileReader fr = new FileReader(&quot;aaa.txt&quot;);			//创建字符输入流,关联aaa.txt</div><div class="line">FileWriter fw = new FileWriter(&quot;bbb.txt&quot;);			//创建字符输出流,关联bbb.txt</div><div class="line"></div><div class="line">int len;</div><div class="line">char[] arr = new char[1024*8];		//创建字符数组</div><div class="line">while((len = fr.read(arr)) != -1) &#123; //将文件上的数据读取到字符数组中	</div><div class="line">	fw.write(arr, 0, len); //将字符数组中的数据写到文件上	</div><div class="line">&#125;</div><div class="line"></div><div class="line">fr.close();		//关流释放资源</div><div class="line">fw.close();</div></pre></td></tr></table></figure>
<h3 id="带缓冲的字符流"><a href="#带缓冲的字符流" class="headerlink" title="带缓冲的字符流"></a>带缓冲的字符流</h3><ul>
<li>BufferedReader的read()方法读取字符时会一次读取若干字符到缓冲区, 然后逐个返回给程序, 降低读取文件的次数, 提高效率</li>
<li>BufferedWriter的write()方法写出字符时会先写到缓冲区, 缓冲区写满时才会写到文件, 降低写文件的次数, 提高效率</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">BufferedReader br = new BufferedReader(new FileReader(&quot;aaa.txt&quot;));	//创建字符输入流对象,关联aaa.txt</div><div class="line">BufferedWriter bw = new BufferedWriter(new FileWriter(&quot;bbb.txt&quot;));	//创建字符输出流对象,关联bbb.txt</div><div class="line"></div><div class="line">int ch;				</div><div class="line">while((ch = br.read()) != -1) &#123;		//read一次,会先将缓冲区读满,从缓冲去中一个一个的返给临时变量ch</div><div class="line">	bw.write(ch);					//write一次,是将数据装到字符数组,装满后再一起写出去</div><div class="line">&#125;</div><div class="line"></div><div class="line">br.close();							//关流</div><div class="line">bw.close();</div></pre></td></tr></table></figure>
<h3 id="readLine-和newLine-方法"><a href="#readLine-和newLine-方法" class="headerlink" title="readLine()和newLine()方法"></a>readLine()和newLine()方法</h3><ul>
<li>BufferedReader的readLine()方法可以读取一行字符(不包含换行符号)</li>
<li>BufferedWriter的newLine()可以输出一个跨平台的换行符号”\r\n”</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">BufferedReader br = new BufferedReader(new FileReader(&quot;aaa.txt&quot;));</div><div class="line">BufferedWriter bw = new BufferedWriter(new FileWriter(&quot;bbb.txt&quot;));</div><div class="line">String line;</div><div class="line">while((line = br.readLine()) != null) &#123;</div><div class="line">	bw.write(line);</div><div class="line">	</div><div class="line">	//写出回车换行符</div><div class="line">	//bw.write(&quot;\r\n&quot;);	 //只支持windows系统</div><div class="line">	bw.newLine(); //跨平台的</div><div class="line">&#125;</div><div class="line"></div><div class="line">br.close();</div><div class="line">bw.close();</div></pre></td></tr></table></figure>
<h3 id="将文本反转"><a href="#将文本反转" class="headerlink" title="将文本反转"></a>将文本反转</h3><ul>
<li>将一个文本文档上的文本反转,第一行和倒数第一行交换,第二行和倒数第二行交换</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 分析:</div><div class="line"> * 1,创建输入输出流对象</div><div class="line"> * 2,创建集合对象</div><div class="line"> * 3,将读到的数据存储在集合中</div><div class="line"> * 4,倒着遍历集合将数据写到文件上</div><div class="line"> * 5,关流</div><div class="line"> * @throws IOException </div><div class="line"> * </div><div class="line"> * 注意事项:</div><div class="line"> * 流对象尽量晚开早关</div><div class="line"> */</div><div class="line">public static void main(String[] args) throws IOException &#123;</div><div class="line">	//改写后是尽量晚开早关</div><div class="line">	// 1,创建输入输出流对象</div><div class="line">	BufferedReader br = new BufferedReader(new FileReader(&quot;zzz.txt&quot;));</div><div class="line">	</div><div class="line">	//2,创建集合对象</div><div class="line">	ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();</div><div class="line">	//3,将读到的数据存储在集合中</div><div class="line">	String line;</div><div class="line">	while((line = br.readLine()) != null) &#123;</div><div class="line">		list.add(line);</div><div class="line">	&#125;</div><div class="line">	br.close();			//关流</div><div class="line">	</div><div class="line">	//4,倒着遍历集合将数据写到文件上</div><div class="line">	BufferedWriter bw = new BufferedWriter(new FileWriter(&quot;revzzz.txt&quot;));</div><div class="line">	for(int i = list.size() - 1; i &gt;= 0; i--) &#123;</div><div class="line">		bw.write(list.get(i));</div><div class="line">		bw.newLine();</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	//5,关流</div><div class="line">	bw.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="LineNumberReader"><a href="#LineNumberReader" class="headerlink" title="LineNumberReader"></a>LineNumberReader</h3><ul>
<li>LineNumberReader是BufferedReader的子类, 具有相同的功能, 并且可以统计行号<ul>
<li>调用getLineNumber()方法可以获取当前行号</li>
<li>调用setLineNumber()方法可以设置当前行号</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">LineNumberReader lnr = new LineNumberReader(new FileReader(&quot;aaa.txt&quot;));</div><div class="line">String line;</div><div class="line">lnr.setLineNumber(100);	//设置起始行号</div><div class="line">while((line = lnr.readLine()) != null) &#123;</div><div class="line">	System.out.println(lnr.getLineNumber() + &quot;:&quot; + line);//获取行号</div><div class="line">&#125;</div><div class="line"></div><div class="line">lnr.close();</div></pre></td></tr></table></figure>
<h3 id="装饰设计模式"><a href="#装饰设计模式" class="headerlink" title="装饰设计模式"></a>装饰设计模式</h3><ul>
<li>装饰设计模式的好处是:<ul>
<li>耦合性不强,被装饰的类的变化与装饰类的变化无关</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">package com.wxhao.chario;</div><div class="line"></div><div class="line">public class Demo6_Wrap &#123;</div><div class="line"></div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		DaStudent ds = new DaStudent(new Student());</div><div class="line">		ds.code();</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">interface Coder &#123;</div><div class="line">	public void code();</div><div class="line">&#125;</div><div class="line"></div><div class="line">class Student implements Coder &#123;</div><div class="line"></div><div class="line">	@Override</div><div class="line">	public void code() &#123;</div><div class="line">		System.out.println(&quot;javase&quot;);</div><div class="line">		System.out.println(&quot;javaweb&quot;);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">&#125;</div><div class="line"></div><div class="line">class DaStudent implements Coder &#123;</div><div class="line">	//1,获取被装饰类的引用</div><div class="line">	private Student s;						//获取学生引用</div><div class="line">	</div><div class="line">	//2,在构造方法中传入被装饰类的对象</div><div class="line">	public DaStudent(Student s) &#123;</div><div class="line">		this.s = s;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	//3,对原有的功能进行升级</div><div class="line">	@Override</div><div class="line">	public void code() &#123;</div><div class="line">		s.code();</div><div class="line">		System.out.println(&quot;ssh&quot;);</div><div class="line">		System.out.println(&quot;数据库&quot;);</div><div class="line">		System.out.println(&quot;大数据&quot;);</div><div class="line">		System.out.println(&quot;...&quot;);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="使用指定的码表读写字符"><a href="#使用指定的码表读写字符" class="headerlink" title="使用指定的码表读写字符"></a>使用指定的码表读写字符</h3><ul>
<li>FileReader是使用默认码表读取文件, 如果需要使用指定码表读取, 那么可以使用InputStreamReader(字节流,编码表)</li>
<li>FileWriter是使用默认码表写出文件, 如果需要使用指定码表写出, 那么可以使用OutputStreamWriter(字节流,编码表)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">InputStreamReader isr = new InputStreamReader(new FileInputStream(&quot;utf-8.txt&quot;), &quot;uTf-8&quot;);	//指定码表读字符</div><div class="line">OutputStreamWriter osw = new OutputStreamWriter(new FileOutputStream(&quot;gbk.txt&quot;), &quot;gbk&quot;);	//指定码表写字符</div><div class="line"></div><div class="line">int c;</div><div class="line">while((c = isr.read()) != -1) &#123;</div><div class="line">	osw.write(c);</div><div class="line">&#125;</div><div class="line"></div><div class="line">isr.close();</div><div class="line">osw.close();</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">//高效的用指定的编码表读</div><div class="line">BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(&quot;UTF-8.txt&quot;), &quot;UTF-8&quot;));</div><div class="line"></div><div class="line">//高效的用指定的编码表写</div><div class="line">BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(&quot;GBK.txt&quot;), &quot;GBK&quot;));</div><div class="line">int ch;</div><div class="line">while((ch = br.read()) != -1) &#123;</div><div class="line">	bw.write(ch);</div><div class="line">&#125;</div><div class="line"></div><div class="line">br.close();</div><div class="line">bw.close();</div><div class="line">```		</div><div class="line"></div><div class="line">### 转换流图解 </div><div class="line">* 画图分析转换流</div><div class="line"></div><div class="line">![转换流](&#123;&#123; site.imgwall_url &#125;&#125;/post-in/20130925/zhl.png)</div><div class="line"></div><div class="line">### 获取文本上字符出现的次数 </div><div class="line">* 获取一个文本上每个字符出现的次数,将结果写在times.txt上</div></pre></td></tr></table></figure>
<p>/**</p>
<ul>
<li>分析:</li>
<li>1,创建带缓冲的输入流对象</li>
<li>2,创建双列集合对象TreeMap</li>
<li>3,将读到的字符存储在双列集合中,存储的时候要做判断,如果不包含这个键,就将键和1存储,如果包含这个键,就将该键和值加1存储</li>
<li>4,关闭输入流</li>
<li>5,创建输出流对象</li>
<li>6,遍历集合将集合中的内容写到times.txt中</li>
<li>7,关闭输出流</li>
<li>@throws IOException<br>*/<br>public static void main(String[] args) throws IOException {<br> //1,创建带缓冲的输入流对象<br> BufferedReader br = new BufferedReader(new FileReader(“zzz.txt”));<br> //2,创建双列集合对象TreeMap<br> TreeMap<character, integer=""> tm = new TreeMap&lt;&gt;();<br> //3,将读到的字符存储在双列集合中,存储的时候要做判断,如果不包含这个键,就将键和1存储,如果包含这个键,就将该键和值加1存储<br> int ch;<br> while((ch = br.read()) != -1) {<pre><code>char c = (char)ch;                    //强制类型转换
/*if(!tm.containsKey(c)) {
    tm.put(c, 1);
}else {
    tm.put(c, tm.get(c) + 1);
}*/
tm.put(c, !tm.containsKey(c) ? 1 : tm.get(c) + 1);
</code></pre> }<br> //4,关闭输入流<br> br.close();<br> //5,创建输出流对象<br> BufferedWriter bw = new BufferedWriter(new FileWriter(“times.txt”));<br> //6,遍历集合将集合中的内容写到times.txt中<br> for(Character key : tm.keySet()) {<pre><code>switch (key) {
case &apos;\t&apos;:
    bw.write(&quot;\\t&quot; + &quot;=&quot; + tm.get(key));     
    break;
case &apos;\n&apos;:
    bw.write(&quot;\\n&quot; + &quot;=&quot; + tm.get(key)); 
    break;
case &apos;\r&apos;:
    bw.write(&quot;\\r&quot; + &quot;=&quot; + tm.get(key)); 
    break;
default:
    bw.write(key + &quot;=&quot; + tm.get(key));             //写出键和值
    break;
}
bw.newLine();
</code></pre> }<br> //7,关闭输出流<br> bw.close();<br>}<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">### 试用版软件 </div><div class="line">* 当我们下载一个试用版软件,没有购买正版的时候,每执行一次就会提醒我们还有多少次使用机会用学过的IO流知识,模拟试用版软件,试用10次机会,执行一次就提示一次您还有几次机会,如果次数到了提示请购买正版</div></pre></td></tr></table></figure>
</character,></li>
</ul>
<p>/**</p>
<ul>
<li>分析:</li>
<li>1,创建带缓冲的输入流对象,因为要使用readLine方法,可以保证数据的原样性</li>
<li>2,将读到的字符串转换为int数</li>
<li>3,对int数进行判断,如果大于0,就将其–写回去,如果不大于0,就提示请购买正版</li>
<li>4,在if判断中要将–的结果打印,并将结果通过输出流写到文件上<br>*/<br>public static void main(String[] args) throws IOException {<br> //1,创建带缓冲的输入流对象,因为要使用readLine方法,可以保证数据的原样性<br> BufferedReader br = new BufferedReader(new FileReader(“config.txt”));<br> //2,将读到的字符串转换为int数<br> String line = br.readLine();<br> int times = Integer.parseInt(line);                    //将数字字符串转换为数字<br> //3,对int数进行判断,如果大于0,就将其–写回去,如果不大于0,就提示请购买正版<br> if(times &gt; 0) {<pre><code>//4,在if判断中要将--的结果打印,并将结果通过输出流写到文件上
System.out.println(&quot;您还有&quot; + times-- + &quot;次机会&quot;);
FileWriter fw = new FileWriter(&quot;config.txt&quot;);
fw.write(times + &quot;&quot;);
fw.close();
</code></pre> }else {<pre><code>System.out.println(&quot;您的试用次数已到,请购买正版&quot;);
</code></pre> }<br> //关闭流<br> br.close();<br>}<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">21.16_File类(</div><div class="line">### 递归</div><div class="line">* 5的阶乘</div></pre></td></tr></table></figure>
</li>
</ul>
<p>/**</p>
<ul>
<li>递归:方法自己调用自己</li>
<li>5!</li>
<li>5 <em> 4 </em> 3 <em> 2 </em> 1</li>
<li></li>
<li>5 * fun(4)(代表4!)</li>
<li>4 * fun(3)(代表3!)</li>
<li>3 * fun(2)(代表2!) </li>
<li>2 * fun(1)(代表1!)</li>
<li>递归的弊端:不能调用次数过多,容易导致栈内存溢出</li>
<li>递归的好处:不用知道循环次数</li>
<li></li>
<li>构造方法是否可以递归调用?</li>
<li>构造方法不能使用递归调用</li>
<li></li>
<li>递归调用是否必须有返回值?</li>
<li><p>不一定(可以有,也可以没有)<br><em>/<br>public static void main(String[] args) {<br> /</em>int result = 1;</p>
<p> for(int i = 1; i &lt;= 5; i++) {</p>
<pre><code>result = result * i;
</code></pre><p> }</p>
<p> System.out.println(result);*/<br> System.out.println(fun(6000));<br>}</p>
</li>
</ul>
<p>public static int fun(int num) {<br>    if(num == 1) {<br>        return 1;<br>    }else {<br>        return num * fun(num - 1);<br>    }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">![递归](&#123;&#123; site.imgwall_url &#125;&#125;/post-in/20130925/digui.png)</div><div class="line"></div><div class="line">### 练习 </div><div class="line">* 需求:从键盘输入接收一个文件夹路径,打印出该文件夹下所有的.java文件名</div></pre></td></tr></table></figure></p>
<p>/**</p>
<ul>
<li>分析:</li>
<li>从键盘接收一个文件夹路径</li>
<li>1,如果录入的是不存在,给与提示</li>
<li>2,如果录入的是文件路径,给与提示</li>
<li>3,如果是文件夹路径,直接返回</li>
<li></li>
<li>打印出该文件夹下所有的.java文件名</li>
<li>1,获取到该文件夹路径下的所有的文件和文件夹,存储在File数组中</li>
<li>2,遍历数组,对每一个文件或文件夹做判断</li>
<li>3,如果是文件,并且后缀是.java的,就打印</li>
<li>4,如果是文件夹,就递归调用<br>*/<br>public static void main(String[] args) {<br> File dir = getDir();<br> printJavaFile(dir);<br>}</li>
</ul>
<p>/*</p>
<ul>
<li>获取键盘录入的文件夹路径</li>
<li>1,返回值类型File</li>
<li>2,不需要有参数<br>*/<br>public static File getDir() {<br> Scanner sc = new Scanner(System.in);                //创建键盘录入对象<br> System.out.println(“请输入一个文件夹路径”);<br> while(true) {<pre><code>String line = sc.nextLine();                    //将键盘录入的文件夹路径存储
File dir = new File(line);                        //封装成File对象
if(!dir.exists()) {
    System.out.println(&quot;您录入的文件夹路径不存在,请重新录入&quot;);
}else if(dir.isFile()) {
    System.out.println(&quot;您录入的是文件路径,请重新录入文件夹路径&quot;);
}else {
    return dir;
}
</code></pre> }<br>}<br>/*</li>
<li>获取文件夹路径下的所.java文件</li>
<li>1,返回值类型 void</li>
<li>2,参数列表File dir<br>*/<br>public static void printJavaFile(File dir) {<br> //1,获取到该文件夹路径下的所有的文件和文件夹,存储在File数组中<br> File[] subFiles = dir.listFiles();<br> //2,遍历数组,对每一个文件或文件夹做判断<br> for (File subFile : subFiles) {<pre><code>//3,如果是文件,并且后缀是.java的,就打印
if(subFile.isFile() &amp;&amp; subFile.getName().endsWith(&quot;.java&quot;)) {
    System.out.println(subFile);
//4,如果是文件夹,就递归调用
}else if (subFile.isDirectory()){
    printJavaFile(subFile);
}
</code></pre> }<br>}<br>```</li>
</ul>
<h3 id="IO流-总结"><a href="#IO流-总结" class="headerlink" title="IO流(总结)"></a>IO流(总结)</h3><ul>
<li>1.会用BufferedReader读取GBK码表和UTF-8码表的字符</li>
<li>2.会用BufferedWriter写出字符到GBK码表和UTF-8码表的文件中</li>
<li>3.会使用BufferedReader从键盘读取一行</li>
</ul>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

